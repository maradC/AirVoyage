<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AirVoyage</title>
  <link rel="stylesheet" href="css/style.css">
  <meta name="description" content="">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">
  <meta property="og:image:alt" content="">

  <link rel="icon" href="img/airplane.ico" sizes="any">
  <link rel="icon" href="img/airplane.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="icon.png">

  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#fafafa">
</head>

<body>

<nav class="navbar">
  <div class="logo">
    <a href="#home"><img src="img/airplane.png" alt="Logo"></a>
  </div>
  <ul class="nav-list">
    <li><a href="#book">Book</a></li>
    <li><a href="#checkin">Check-in</a></li>
    <li><a href="#mytrips">My Trips</a></li>
    <li><a href="#flightstatus">Flight Status</a></li>
    <li><a href="#travelinfo">Travel Info</a></li>
    <li><a href="#skymiles">SkyMiles</a></li>
    <li><a href="#needhelp">Need Help</a></li>
  </ul>

  <div class="sign-in">
    <a href="#signin" id="sign-in">Sign In</a>
  </div>
</nav>

<!-- Sign-in Modal -->
<div id="signInModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Sign In</h2>
    <form id="signInForm">
      <label for="username">Username:</label>
      <input type="text" id="username" name="username" required>

      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required>

      <button type="submit">Sign In</button>
    </form>
    <p>Dont have an account? <a href="#" id="signUpLink">Sign Up</a></p>
  </div>
</div>

<!-- Sign-up Modal -->
<div id="signUpModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Sign Up</h2>
    <!-- Sign-up form -->
    <form>
      <div class="form-group">
        <label for="new-username">Username:</label>
        <input type="text" id="new-username" name="new-username">
      </div>
      <div class="form-group">
        <label for="new-password">Password:</label>
        <input type="password" id="new-password" name="new-password">
      </div>
      <div class="form-group">
        <label for="confirm-password">Confirm Password:</label>
        <input type="password" id="confirm-password" name="confirm-password">
      </div>
      <button type="submit">Sign Up</button>
    </form>
  </div>
</div>



<div class="tab-container">
  <ul class="tabs">
    <li class="tab"><a href="#hotels">Hotels</a></li>
    <li class="tab active"><a href="#flights">Flights</a></li>
    <li class="tab"><a href="#cars">Cars</a></li>
    <li class="tab"><a href="#vacation">Vacation</a></li>
  </ul>
</div>

<!-- Creating the flight search section -->
<div class="form-container">
  <form id="flight-search-form">
    <div class="form_group">
      <label for="departure-airport">Departure Airport:</label>
      <input type="text" id="departure-airport" name="departure-airport" required>
    </div>

    <button type="button" id="swap-airports" aria-label="swap-airports">Swap</button>

    <div class="form_group">
      <label for="arrival-airport">Arrival Airport:</label>
      <input type="text" id="arrival-airport" name="arrival-airport" required>
    </div>

    <div class="form_group">
      <label for="date-range">Travel Dates:</label>
      <input type="text" id="date-range" name="date-range" placeholder="Select dates" required>
    </div>
    <button type="submit">Find Flights</button>
  </form>
</div>

<h2>What AirVoyage Brings to the Table</h2>

<div class="flex-container">
  <div class="flex-box">
    <b>Big names, Great Deals</b>
    Search 100's of travel sites to compare prices
  </div>
  <div class="flex-box">
    <b>Filter for what you want</b>
    Free Wi-Fi? Early arrival? Instantly customize your results.
  </div>
  <div class="flex-box">
    <b>Track prices</b>
    Not ready to book? Set alerts for when prices drop
  </div>
  <div class="flex-box">
    <b>More than flights</b>
    Find deals for your entire trip from hotels to rental cars
  </div>
</div>

<!--Google Maps--->
<script async
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBKvP17fInbO1wKvAADP6bPO_m5Qdq3V9A&callback=initMap">
</script>

<div id = "map" style="height: 400px; width: 100%;"></div>



<script src="js/app.js"></script>

<!-- Include Flatpickr CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

<!-- Include Flatpickr JS -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

<!-- Initialize Flatpickr -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    flatpickr("#date-range", {
      mode: "range",
      dateFormat: "Y-m-d",
      minDate: "today",
    });

    // Sign-in
    var modal = document.getElementById("signInModal");
    var btn = document.getElementById("sign-in");
    var span = document.getElementsByClassName("close")[0];

    btn.onclick = function() {
      modal.style.display = "block";
    }

    span.onclick = function() {
      modal.style.display = "none";
    }

    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }

    document.getElementById("signInForm").addEventListener("submit", function (event) {
      event.preventDefault();
      const username = document.getElementById("username").value;
      const password = document.getElementById("password").value;

      console.log("Username:", username);
      console.log("Password:", password);

      fetch('/login', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ username, password }),
      })
        .then(response => response.json())
        .then(data => {
          console.log('Success:', data);
          // Redirect or show success message
        })
        .catch((error) => {
          console.error('Error:', error);
          // Show error message
        });
    });
  });

  // Sign up
  var signInModal = document.getElementById("signInModal");
  var signUpModal = document.getElementById("signUpModal");

  // Get the link that opens the sign-up modal
  var signUpLink = document.getElementById("signUpLink");

  // Get the <span> element that closes the modals
  var closeButtons = document.getElementsByClassName("close");

  // When the user clicks the Sign Up link, close the sign-in modal and open the sign-up modal
  signUpLink.onclick = function() {
    signInModal.style.display = "none";
    signUpModal.style.display = "block";
  }
  // When the user clicks on <span> (x), close the modal
  for (let closeButton of closeButtons) {
    closeButton.onclick = function() {
      signInModal.style.display = "none";
      signUpModal.style.display = "none";
    }
  }

  // When the user clicks anywhere outside of the modal, close it
  window.onclick = function(event) {
    if (event.target == signInModal) {
      signInModal.style.display = "none";
    } else if (event.target == signUpModal) {
      signUpModal.style.display = "none";
    }
  }

</script>

</body>

</html>
